; Здесь мы складываем числа 6 и 4, но используем 'sprintLF'
; для вывода, что некорректно, т.к. sprintLF выводит строку по адресу,
; а не число.

%include 'in_out.asm'

SECTION .bss
buf1:   RESB 80     ; Буфер, который требовался в Листинге 6.1

SECTION .text
GLOBAL _start

_start:
    mov eax, 6      ; Загружаем число 6
    mov ebx, 4      ; Загружаем число 4
    add eax, ebx    ; Складываем, eax = 10

    ; Блок из Листинга 6.1, который пытается вывести eax как строку
    ; Это не будет работать как надо, потому что eax - это число 10,
    ; а не адрес строки.
    mov [buf1], eax ; Попытка записать число 10 в буфер
    mov eax, buf1   ; Загружаем адрес буфера в eax
    call sprintLF   ; Выводим (скорее всего, мусор или ничего)

    ; Правильнее было бы просто вывести eax как число,
    ; но мы следуем шагам методички.
    ; В п.4 и 5 мы это исправим с помощью iprintLF.

    call quit       ; Выход из программы
